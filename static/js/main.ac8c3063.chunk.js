(this.webpackJsonptest_fr_front=this.webpackJsonptest_fr_front||[]).push([[0],{222:function(e,t,n){"use strict";n.r(t);var c=n(0),s=n.n(c),r=n(33),a=n.n(r),l=(n(96),n(97),n(98),n(15)),i=n(37),o=n(52),u=n(1),d=o.a().shape({full_url:o.b().url("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u0443\u044e \u0441\u0441\u044b\u043b\u043a\u0443").required("\u041e\u0431\u044f\u0437\u0430\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435")}),j=function(e){var t=e.createUrl;return Object(u.jsx)(i.c,{initialValues:{full_url:""},validationSchema:d,onSubmit:function(e,n){n.setSubmitting,n.setErrors;var c=n.resetForm;t(e),c()},children:function(e){var t=e.errors,n=e.touched;e.values;return Object(u.jsxs)(i.b,{children:[Object(u.jsxs)("div",{className:"input-group mb-3",children:[Object(u.jsx)(i.a,{name:"full_url",type:"url",placeholder:"https://example.com/",className:["form-control form-control-lg ",n.full_url&&t.full_url?"is-invalid":""].join(" "),id:"url-input"}),Object(u.jsx)("button",{type:"submit",className:"btn btn-outline-success",children:"\u0421\u043e\u043a\u0440\u0430\u0442\u0438\u0442\u044c"})]}),n.full_url&&t.full_url&&Object(u.jsx)("div",{className:"invalid-feedback",children:t.full_url})]})}})},b=function(e){var t=e.urls,n=e.deleteUrl,c=function(e){var t=e.fullUrl,c=e.shortUrl,s=e.hash;return Object(u.jsx)("div",{className:"card mb-2",style:{minHeight:"5rem"},children:Object(u.jsx)("div",{className:"card-body",children:Object(u.jsxs)("div",{className:"row",children:[Object(u.jsxs)("div",{className:"col text-truncate",children:[Object(u.jsx)("h5",{className:"card-title",children:Object(u.jsx)("a",{href:c,children:c})}),Object(u.jsx)("p",{children:t})]}),Object(u.jsx)("div",{className:"col d-flex justify-content-end align-items-center",children:Object(u.jsx)("i",{className:"fas fa-trash-alt",style:{fontSize:"1.5rem",color:"red",cursor:"pointer"},onClick:function(){return n(s)}})})]})})})};return Object(u.jsx)("div",{className:"mt-3",children:t.map((function(e,t){return Object(u.jsx)("div",{className:"col",children:Object(u.jsx)(c,{fullUrl:e.full_url,shortUrl:e.short_url,hash:e.hash},t)},t)}))})},h=n(49),f=n.n(h),m=n(89),O=n(90),x=n.n(O).a.create({baseURL:"http://127.0.0.1:8000/"});x.defaults.withCredentials=!0,x.interceptors.response.use((function(e){return e}),function(){var e=Object(m.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.reject(t.response));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());var p=x.get,v=x.post,g=x.delete,N=function(e){return p(e||"api/v1/urls/all/")},y=function(e){return v("api/v1/urls/create/",e)},C=function(e){return g("api/v1/urls/".concat(e,"/delete/"))},_=n(20),k=function(e){return _.b.success(e,{autoClose:2e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!1,draggable:!1,progress:void 0})},U=function(){return Object(u.jsx)("div",{className:"modal",tabIndex:"-1",children:Object(u.jsx)("div",{className:"modal-dialog",children:Object(u.jsxs)("div",{className:"modal-content",children:[Object(u.jsxs)("div",{className:"modal-header",children:[Object(u.jsx)("h5",{className:"modal-title",children:"Modal title"}),Object(u.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),Object(u.jsx)("div",{className:"modal-body",children:Object(u.jsx)("p",{children:"Modal body text goes here."})}),Object(u.jsxs)("div",{className:"modal-footer",children:[Object(u.jsx)("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",children:"Close"}),Object(u.jsx)("button",{type:"button",className:"btn btn-primary",children:"Save changes"})]})]})})})},P=function(e){var t=e.nextPage,n=e.prevPage,c=e.fetchUrls,s=function(e){c(e)};return Object(u.jsx)("nav",{"aria-label":"Page navigation example",children:Object(u.jsxs)("ul",{className:"pagination",children:[Object(u.jsx)("li",{className:"page-item".concat(n?"":" disabled"),children:Object(u.jsx)("button",{className:"page-link",onClick:function(){return s(n)},children:"\u041d\u0430\u0437\u0430\u0434"})}),Object(u.jsx)("li",{className:"page-item".concat(t?"":" disabled"),children:Object(u.jsx)("button",{className:"page-link",onClick:function(){return s(t)},children:"\u0412\u043f\u0435\u0440\u0435\u0434"})})]})})},S=function(e){return _.b.error(e,{autoClose:5e3,hideProgressBar:!0,closeOnClick:!0,pauseOnHover:!1,draggable:!1,progress:void 0})},F=function(){var e=Object(c.useState)(null),t=Object(l.a)(e,2),n=t[0],s=t[1],r=Object(c.useState)(!1),a=Object(l.a)(r,2),i=(a[0],a[1],function(e){N(e).then((function(e){s(e.data)})).catch((function(e){S("\u041e\u0448\u0431\u0438\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b\u0445 \u0441\u0441\u044b\u043b\u043e\u043a")}))}),o=function(e){C(e).then((function(){k("\u0421\u0441\u044b\u043b\u043a\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0430"),i()})).catch((function(){S("\u041e\u0448\u0431\u0438\u043a\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f \u0441\u0441\u044b\u043b\u043a\u0438")}))};return Object(c.useEffect)((function(){i()}),[]),Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("h3",{children:"\u0421\u043e\u043a\u0440\u0430\u0449\u0435\u043d\u0438\u0435 \u0441\u0441\u044b\u043b\u043e\u043a"}),Object(u.jsx)(j,{createUrl:function(e){y(e).then((function(){k("\u0421\u0441\u044b\u043b\u043a\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0430"),i()})).catch((function(){S("\u041e\u0448\u0431\u0438\u043a\u0430 c\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u043a\u043e\u0440\u043e\u0442\u043a\u043e\u0439 \u0441\u0441\u044b\u043b\u043a\u0438")}))}}),n?n.next||n.previous?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(b,{urls:n.results,deleteUrl:o}),Object(u.jsx)(P,{nextPage:n.next,prevPage:n.previous,fetchUrls:i})]}):Object(u.jsx)(b,{urls:n.results,deleteUrl:o}):null,Object(u.jsx)(U,{})]})},w=n(91),B=n(2);n(218);var H=function(){return Object(u.jsx)(w.a,{children:Object(u.jsxs)("div",{className:"container",children:[Object(u.jsx)(B.c,{children:Object(u.jsx)(B.a,{path:"/",exact:!0,component:F})}),Object(u.jsx)(_.a,{position:"top-right",autoClose:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!1,draggable:!1,pauseOnHover:!1})]})})},L=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,223)).then((function(t){var n=t.getCLS,c=t.getFID,s=t.getFCP,r=t.getLCP,a=t.getTTFB;n(e),c(e),s(e),r(e),a(e)}))};a.a.render(Object(u.jsx)(s.a.StrictMode,{children:Object(u.jsx)(H,{})}),document.getElementById("root")),L()},96:function(e,t,n){},98:function(e,t,n){}},[[222,1,2]]]);
//# sourceMappingURL=main.ac8c3063.chunk.js.map